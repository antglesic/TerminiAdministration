@page "/termin/view"

@using TerminiWeb.Infrastructure.TerminService.Dtos
@using GrabaUIPackage.Components.Common

@if (_termin == null)
{
	<LoadIndicator />
}
else
{
	<div class="modal-container">
		<div class="termin-info">
			<h3>Termin Information</h3>
			<p>Date: @(_termin?.ScheduledDate.ToString("dd.MM.yyyy"))</p>
			<p>Start Time: @(_termin?.StartTime.ToString("HH:mm"))</p>
			<p>Status: @(_termin?.WasPlayed == true ? "Played" : "Not played yet")</p>
		</div>

		<div class="teams-container">
			<div class="team-table">
				<h4>Team 1</h4>
				<table>
					<thead>
						<tr>
							<th>Player</th>
							<th>Rating</th>
						</tr>
					</thead>
					<tbody>
						@if (_termin?.Players != null)
						{
							@foreach (var player in _termin.Players.Where(p => p.TeamNumber == 1))
							{
								<tr>
									<td>@player.FullName</td>
									<td>@player.Rating</td>
								</tr>
							}
						}
					</tbody>
				</table>
			</div>

			<div class="team-table">
				<h4>Team 2</h4>
				<table>
					<thead>
						<tr>
							<th>Player</th>
							<th>Rating</th>
						</tr>
					</thead>
					<tbody>
						@if (_termin?.Players != null)
						{
							@foreach (var player in _termin.Players.Where(p => p.TeamNumber == 2))
							{
								<tr>
									<td>@player.FullName</td>
									<td>@player.Rating</td>
								</tr>
							}
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
}

<div class="modal-header">
	<button type="button" class="close-button" @onclick="() => Close()">
		<span>&times;</span>
	</button>
</div>